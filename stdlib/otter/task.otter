# ğŸ¦¦ OtterLang Task Module
# Thin wrappers around the runtime task APIs exposed via FFI.

fn spawn(fn: fn()) -> TaskHandle:
    return task.spawn(fn)

fn join(handle: TaskHandle):
    task.join(handle)

fn detach(handle: TaskHandle):
    task.detach(handle)

fn sleep(ms: int):
    task.sleep(ms)

fn channel_string() -> Channel<string>:
    return task.channel<string>()

fn channel_int() -> Channel<int>:
    return task.channel<int>()

fn channel_float() -> Channel<float>:
    return task.channel<float>()

fn send_string(chan: Channel<string>, value: string) -> bool:
    return task.send<string>(chan, value) != 0

fn send_int(chan: Channel<int>, value: int) -> bool:
    return task.send<int>(chan, value) != 0

fn send_float(chan: Channel<float>, value: float) -> bool:
    return task.send<float>(chan, value) != 0

fn recv_string(chan: Channel<string>) -> string:
    return task.recv<string>(chan)

fn recv_int(chan: Channel<int>) -> int:
    return task.recv<int>(chan)

fn recv_float(chan: Channel<float>) -> float:
    return task.recv<float>(chan)

fn close(chan: Channel<any>):
    task.close(chan)
